# Задание №1

Разработать эмулятор для языка оболочки ОС. Необходимо сделать работу эмулятора как можно более похожей на сеанс shell в UNIX-подобной ОС. Эмулятор должен запускаться из реальной командной строки, а файл с виртуальной файловой системой не нужно распаковывать у пользователя. Эмулятор принимает образ виртуальной файловой системы в виде файла формата tar. Эмулятор должен работать в режиме **GUI**.

Ключами командной строки задаются:
- Путь к архиву виртуальной файловой системы.
- Путь к лог-файлу.

Лог-файл имеет формат **json** и содержит все действия во время последнего сеанса работы с эмулятором. Для каждого действия указаны дата и время.

Необходимо поддержать в эмуляторе команды `ls`, `cd` и `exit`, а также следующие команды:
1. `tac`.
2. `chown`.

Все функции эмулятора должны быть покрыты тестами, а для каждой из поддерживаемых команд необходимо написать 2 теста.

## Использование

1. Создание файлового формата `tar`:

```sh
tar -cf dir.tar dir
```

2. Скачать библиотеку `tkinter` для GUI отображения.

3. Использование скрипта:

```sh
python shell_emulator.py <путь_к_архиву_tar> <путь_к_файлу_логов>
```

## Тесты

### Тест в ручную

1. Запустим программу

```sh
python shell_emulator.py dir.tar log.json
```

2. Проверим команды

![alt text](https://github.com/TreoDope/ccTask1/blob/main/task1/screenshot/Снимок%20экрана%202024-12-05%20171424.png)

- Исходный текст file1.txt

```txt
Hello, Dennis Ritchie!
```

3. Просмотрим лог-файл после тестов команд

```json
[
    {
        "command": "ls",
        "timestamp": "2024-11-07T14:08:53.568229"
    },
    {
        "command": "cd nodir",
        "timestamp": "2024-11-07T14:09:04.864445"
    },
    {
        "command": "cd dir1",
        "timestamp": "2024-11-07T14:09:18.887323"
    },
    {
        "command": "ls",
        "timestamp": "2024-11-07T14:09:20.660071"
    },
    {
        "command": "cd ..",
        "timestamp": "2024-11-07T14:09:25.988384"
    },
    {
        "command": "ls",
        "timestamp": "2024-11-07T14:09:28.409956"
    },
    {
        "command": "tac file1.txt",
        "timestamp": "2024-11-07T14:09:35.115240"
    },
    {
        "command": "tac nofile",
        "timestamp": "2024-11-07T14:09:39.058916"
    },
    {
        "command": "chown file1.txt 20",
        "timestamp": "2024-11-07T14:09:53.097921"
    },
    {
        "command": "chown nofile 20",
        "timestamp": "2024-11-07T14:10:06.678925"
    }
]
```

### Тест скриптом `test_shell.py`

```sh
......
----------------------------------------------------------------------
Ran 9 tests in 0.063s

OK
```
